<div dir="rtl" align="right">

# 📘 מדריך DevOps מקיף - הכנה לראיון עבודה

## פרויקט Rick and Morty API - מהקוד ועד לענן

---

# מבוא

מדריך זה נכתב עבור מי שמתכונן לראיון עבודה בתחום ה-DevOps.
המדריך עוקב אחרי פרויקט אמיתי, צעד אחר צעד, ומסביר כל מושג בצורה פשוטה.

**מה תלמד במדריך זה:**
- מה זה API ואיך עובדים איתו
- איך כותבים סקריפט ב-Python
- מה זה Docker ולמה הוא חשוב
- מה זה Kubernetes ואיך משתמשים בו
- מושגים שמראיינים אוהבים לשאול עליהם

---

# פרק 1: הבנת המשימה

## 1.1 מה התבקשנו לעשות?

קיבלנו תרגיל בית עם הדרישות הבאות:

**משימות חובה:**
1. לכתוב סקריפט שקורא נתונים מ-API
2. לסנן את הנתונים לפי קריטריונים מסוימים
3. לשמור את התוצאות לקובץ CSV
4. להעלות את הקוד ל-GitHub

**משימות בונוס:**
5. להפוך את הסקריפט לשירות עם Docker
6. לפרוס את השירות ב-Kubernetes
7. ליצור Helm Chart
8. לבנות CI/CD Pipeline

## 1.2 למה דווקא המשימות האלה?

המשימות האלה מייצגות את **מחזור החיים המלא** של אפליקציה:

</div>

```
קוד ← בדיקה ← אריזה ← פריסה ← ניטור
Code → Test → Package → Deploy → Monitor
```

<div dir="rtl" align="right">

**שאלת ראיון נפוצה:** "תאר את מחזור החיים של אפליקציה מהפיתוח ועד הפרודקשן"

**תשובה טובה:** "האפליקציה עוברת מספר שלבים: כתיבת קוד, בדיקות אוטומטיות, אריזה לקונטיינר עם Docker, פריסה לסביבת Kubernetes, וניטור מתמשך. כל שלב מנוהל על ידי Pipeline אוטומטי."

---

# פרק 2: מה זה API?

## 2.1 הגדרה פשוטה

**API** (Application Programming Interface) = ממשק תכנות יישומים

בפשטות: זו הדרך שבה תוכנות מדברות אחת עם השנייה.

**דוגמה מהחיים:**
כשאתה מזמין אוכל דרך אפליקציה, האפליקציה שולחת בקשה ל-API של המסעדה.
ה-API מחזיר את התפריט, המחירים, וזמני המשלוח.

## 2.2 מה זה REST API?

**REST** (Representational State Transfer) = סגנון ארכיטקטוני לבניית API

**עקרונות REST:**

| עיקרון | הסבר |
|--------|------|
| Stateless | כל בקשה עומדת בפני עצמה |
| Client-Server | הפרדה בין הלקוח לשרת |
| Uniform Interface | ממשק אחיד ועקבי |
| Cacheable | ניתן לשמור תשובות במטמון |

## 2.3 שיטות HTTP

**שאלת ראיון נפוצה:** "מה ההבדל בין GET ל-POST?"

</div>

```
┌──────────┬────────────────────────────────────────┐
│  Method  │  שימוש                                 │
├──────────┼────────────────────────────────────────┤
│  GET     │  קבלת מידע (קריאה בלבד)              │
│  POST    │  יצירת משאב חדש                       │
│  PUT     │  עדכון משאב קיים (מחליף לגמרי)       │
│  PATCH   │  עדכון חלקי של משאב                  │
│  DELETE  │  מחיקת משאב                          │
└──────────┴────────────────────────────────────────┘
```

<div dir="rtl" align="right">

## 2.4 קודי תגובה HTTP

**שאלת ראיון נפוצה:** "מה המשמעות של קוד 404? ומה 500?"

</div>

```
┌──────────┬────────────────────────────────────────┐
│  קוד     │  משמעות                               │
├──────────┼────────────────────────────────────────┤
│  200     │  OK - הבקשה הצליחה                    │
│  201     │  Created - נוצר משאב חדש              │
│  400     │  Bad Request - בקשה שגויה            │
│  401     │  Unauthorized - לא מורשה             │
│  403     │  Forbidden - אסור (גם עם הרשאה)      │
│  404     │  Not Found - המשאב לא נמצא           │
│  500     │  Internal Server Error - שגיאת שרת   │
│  502     │  Bad Gateway - שגיאה בשרת ביניים     │
│  503     │  Service Unavailable - השירות לא זמין│
└──────────┴────────────────────────────────────────┘
```

<div dir="rtl" align="right">

## 2.5 ה-API שעבדנו איתו

**כתובת ה-API:** `https://rickandmortyapi.com/api/character`

**מה מקבלים בתגובה:**

</div>

```json
{
  "info": {
    "count": 826,
    "pages": 42,
    "next": "https://rickandmortyapi.com/api/character?page=2",
    "prev": null
  },
  "results": [
    {
      "id": 1,
      "name": "Rick Sanchez",
      "status": "Alive",
      "species": "Human",
      "origin": {
        "name": "Earth (C-137)"
      },
      "location": {
        "name": "Citadel of Ricks"
      },
      "image": "https://rickandmortyapi.com/api/character/avatar/1.jpeg"
    }
  ]
}
```

<div dir="rtl" align="right">

---

# פרק 3: כתיבת הסקריפט ב-Python

## 3.1 מה זה Python?

Python היא שפת תכנות פופולרית מאוד בעולם ה-DevOps בגלל:
- קלה ללמידה
- ספריות רבות (libraries)
- מתאימה לאוטומציה
- קהילה גדולה

## 3.2 מה זה Pagination?

**שאלת ראיון נפוצה:** "איך מטפלים ב-API שמחזיר הרבה נתונים?"

**Pagination** = חלוקת נתונים לעמודים

**למה צריך?**
- ה-API שלנו מחזיר 826 דמויות
- לא הגיוני להחזיר הכל בבקשה אחת
- לכן ה-API מחזיר 20 דמויות בכל עמוד = 42 עמודים

**איך מטפלים?**

</div>

```
בקשה ראשונה:
GET /character?page=1
    ↓
תגובה: 20 דמויות + לינק לעמוד הבא
    ↓
בקשה שנייה:
GET /character?page=2
    ↓
תגובה: 20 דמויות + לינק לעמוד הבא
    ↓
... וכך הלאה עד עמוד 42
```

<div dir="rtl" align="right">

## 3.3 הקוד שכתבנו - הסבר מלא

**קובץ: main.py**

</div>

```python
#!/usr/bin/env python3
"""
סקריפט לשליפת דמויות מ-Rick and Morty API
"""

# ייבוא ספריות
import requests  # לשליחת בקשות HTTP
import csv       # לכתיבה לקובץ CSV

# כתובת ה-API
API_BASE_URL = "https://rickandmortyapi.com/api/character"


def fetch_all_characters():
    """
    שולף את כל הדמויות מה-API.
    מטפל ב-Pagination אוטומטית.
    """
    all_characters = []  # רשימה ריקה לאחסון כל הדמויות
    url = API_BASE_URL   # מתחילים מהעמוד הראשון
    
    while url:  # כל עוד יש עמוד הבא
        response = requests.get(url)  # שולחים בקשת GET
        response.raise_for_status()   # אם יש שגיאה - זורקים exception
        data = response.json()        # ממירים את התגובה ל-JSON
        
        all_characters.extend(data['results'])  # מוסיפים את הדמויות לרשימה
        url = data['info']['next']  # מעדכנים ל-URL הבא (או None אם נגמר)
    
    return all_characters


def filter_characters(characters):
    """
    מסנן דמויות לפי הקריטריונים:
    - species = Human (אנושי)
    - status = Alive (חי)
    - origin = Earth (מכדור הארץ)
    """
    filtered = []
    
    for char in characters:
        # בודקים כל קריטריון
        is_human = char['species'] == 'Human'
        is_alive = char['status'] == 'Alive'
        is_from_earth = 'Earth' in char['origin']['name']
        
        # אם כל התנאים מתקיימים
        if is_human and is_alive and is_from_earth:
            filtered.append({
                'Name': char['name'],
                'Location': char['location']['name'],
                'Image': char['image']
            })
    
    return filtered


def write_to_csv(characters, filename='output.csv'):
    """
    כותב את הדמויות לקובץ CSV.
    """
    with open(filename, 'w', newline='', encoding='utf-8') as f:
        writer = csv.DictWriter(f, fieldnames=['Name', 'Location', 'Image'])
        writer.writeheader()  # כותב את כותרות העמודות
        writer.writerows(characters)  # כותב את כל השורות
    
    print(f"נכתבו {len(characters)} דמויות לקובץ {filename}")


def main():
    """
    הפונקציה הראשית - מריצה את כל התהליך.
    """
    print("שולף דמויות מה-API...")
    
    # שלב 1: שליפת כל הדמויות
    all_characters = fetch_all_characters()
    print(f"סה״כ דמויות: {len(all_characters)}")
    
    # שלב 2: סינון
    filtered = filter_characters(all_characters)
    print(f"דמויות שעברו סינון: {len(filtered)}")
    
    # שלב 3: כתיבה לקובץ
    write_to_csv(filtered)


# נקודת הכניסה לתוכנית
if __name__ == "__main__":
    main()
```

<div dir="rtl" align="right">

## 3.4 מושגים חשובים בקוד

**שאלת ראיון נפוצה:** "מה זה `if __name__ == "__main__"`?"

**תשובה:** זה בודק אם הקובץ רץ ישירות (ולא מיובא כמודול).
- אם מריצים `python main.py` → הקוד ב-if ירוץ
- אם עושים `import main` מקובץ אחר → הקוד ב-if לא ירוץ

**שאלת ראיון נפוצה:** "מה ההבדל בין append ל-extend?"

</div>

```python
# append - מוסיף אלמנט אחד
list1 = [1, 2, 3]
list1.append([4, 5])
# תוצאה: [1, 2, 3, [4, 5]]

# extend - מוסיף את האלמנטים של הרשימה
list2 = [1, 2, 3]
list2.extend([4, 5])
# תוצאה: [1, 2, 3, 4, 5]
```

<div dir="rtl" align="right">

---

# פרק 4: מה זה Docker?

## 4.1 הבעיה שלפני Docker

**המצב ההיסטורי:**

</div>

```
מפתח 1:              מפתח 2:              שרת Production:
─────────            ─────────            ────────────────
Python 3.9           Python 3.11          Python 3.8
Windows              Mac                  Linux
Flask 2.0            Flask 3.0            Flask 1.0

        "אצלי זה עובד!" - כולם אומרים
```

<div dir="rtl" align="right">

## 4.2 מה Docker פותר?

**Docker** יוצר "קופסה" (Container) שבתוכה יש את כל מה שהאפליקציה צריכה.

</div>

```
┌─────────────────────────────────────────────────────────┐
│                   Docker Container                       │
│  ┌───────────────────────────────────────────────────┐  │
│  │  מערכת הפעלה (Linux)                              │  │
│  │  Python 3.11                                      │  │
│  │  Flask 3.0                                        │  │
│  │  הקוד שלנו                                        │  │
│  └───────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
                         │
     ┌───────────────────┼───────────────────┐
     ▼                   ▼                   ▼
 Developer           Developer            Server
 (Windows)           (Mac)                (Linux)

              עובד אצל כולם!
```

<div dir="rtl" align="right">

## 4.3 מושגי יסוד ב-Docker

**שאלת ראיון נפוצה:** "מה ההבדל בין Image ל-Container?"

| מושג | הסבר | משל |
|------|------|-----|
| **Image** | תבנית לקריאה בלבד | מתכון לעוגה |
| **Container** | מופע רץ של Image | העוגה עצמה |
| **Dockerfile** | קובץ הוראות לבניית Image | רשימת המצרכים והוראות |
| **Registry** | מאגר לאחסון Images | חנות מתכונים (Docker Hub) |

**שאלת ראיון נפוצה:** "מה ההבדל בין Container ל-Virtual Machine?"

</div>

```
Virtual Machine:                    Container:
────────────────                    ──────────

┌──────────────────┐               ┌──────────────────┐
│   Application    │               │   Application    │
├──────────────────┤               ├──────────────────┤
│   Guest OS       │               │   (No OS!)       │
│   (Full Linux)   │               │                  │
├──────────────────┤               ├──────────────────┤
│   Hypervisor     │               │  Docker Engine   │
├──────────────────┤               ├──────────────────┤
│   Host OS        │               │   Host OS        │
├──────────────────┤               ├──────────────────┤
│   Hardware       │               │   Hardware       │
└──────────────────┘               └──────────────────┘

גודל: GB                           גודל: MB
עלייה: דקות                        עלייה: שניות
```

<div dir="rtl" align="right">

## 4.4 ה-Dockerfile שלנו - שורה אחרי שורה

</div>

```dockerfile
# ═══════════════════════════════════════════════════════════════
# שורה 1: FROM - מאיזו תמונת בסיס להתחיל?
# ═══════════════════════════════════════════════════════════════
FROM python:3.11-slim
# python:3.11-slim = תמונה רשמית של Python גרסה 3.11
# slim = גרסה "רזה" - בלי extras מיותרים (קטנה יותר)

# ═══════════════════════════════════════════════════════════════
# שורה 2: WORKDIR - באיזו תיקייה לעבוד בתוך הקונטיינר?
# ═══════════════════════════════════════════════════════════════
WORKDIR /app
# יוצר תיקייה /app ועובר אליה
# כל הפקודות הבאות יתבצעו מתוך /app

# ═══════════════════════════════════════════════════════════════
# שורה 3-4: התקנת dependencies
# ═══════════════════════════════════════════════════════════════
COPY app/requirements.txt .
# מעתיק את קובץ הדרישות מהמחשב שלנו לתוך הקונטיינר

RUN pip install --no-cache-dir -r requirements.txt
# מתקין את הספריות (Flask, requests)
# --no-cache-dir = לא שומר cache (חוסך מקום)

# ═══════════════════════════════════════════════════════════════
# שורה 5: העתקת הקוד
# ═══════════════════════════════════════════════════════════════
COPY app/ .
# מעתיק את כל התיקייה app/ לתוך /app בקונטיינר

# ═══════════════════════════════════════════════════════════════
# שורה 6: EXPOSE - איזה פורט האפליקציה מאזינה?
# ═══════════════════════════════════════════════════════════════
EXPOSE 5000
# מסמן שהאפליקציה מאזינה על פורט 5000
# הערה: זה רק תיעוד! לא באמת פותח פורט

# ═══════════════════════════════════════════════════════════════
# שורה 7: CMD - מה להריץ כשהקונטיינר עולה?
# ═══════════════════════════════════════════════════════════════
CMD ["python", "api.py"]
# מריץ את הפקודה: python api.py
```

<div dir="rtl" align="right">

## 4.5 Docker Layer Caching

**שאלת ראיון נפוצה:** "למה חשוב סדר הפקודות ב-Dockerfile?"

כל שורה ב-Dockerfile יוצרת **Layer** (שכבה).
Docker שומר את השכבות במטמון.
אם שכבה לא השתנתה, Docker משתמש בגרסה השמורה.

**למה קודם מעתיקים requirements.txt ורק אחר כך את הקוד?**

</div>

```
Build ראשון:                    Build שני (שינוי בקוד):
────────────                    ────────────────────────

Layer 1: FROM python      →    Layer 1: FROM python      [CACHED]
Layer 2: COPY requirements →   Layer 2: COPY requirements [CACHED]
Layer 3: RUN pip install  →    Layer 3: RUN pip install  [CACHED]
Layer 4: COPY app/        →    Layer 4: COPY app/        [REBUILD]
Layer 5: CMD              →    Layer 5: CMD              [REBUILD]

זמן: 60 שניות                   זמן: 5 שניות!
```

<div dir="rtl" align="right">

אם היינו מעתיקים קודם את הקוד, כל שינוי קטן היה גורם להתקנה מחדש של כל הספריות!

## 4.6 פקודות Docker חיוניות

**שאלת ראיון נפוצה:** "תראה לי את פקודות Docker הבסיסיות"

</div>

```bash
# ═══════════════════════════════════════════════════════════════
# בניית Image
# ═══════════════════════════════════════════════════════════════
docker build -t rick-morty-api .
#        │    └─────────────────┘ └┘
#        │           שם             הקובץ נמצא בתיקייה הנוכחית
#        └── build = בנה image

# ═══════════════════════════════════════════════════════════════
# הרצת Container
# ═══════════════════════════════════════════════════════════════
docker run -d -p 5000:5000 --name my-api rick-morty-api
#          │  └──────────┘ └──────────┘ └─────────────┘
#          │  port mapping   שם          שם ה-image
#          │  host:container
#          └── detached (ברקע)

# ═══════════════════════════════════════════════════════════════
# הצגת Containers רצים
# ═══════════════════════════════════════════════════════════════
docker ps
# מציג רק containers פעילים

docker ps -a
# מציג את כל ה-containers (גם עצורים)

# ═══════════════════════════════════════════════════════════════
# צפייה בלוגים
# ═══════════════════════════════════════════════════════════════
docker logs my-api
# מציג את הלוגים של הקונטיינר

docker logs -f my-api
# מציג לוגים בזמן אמת (follow)

# ═══════════════════════════════════════════════════════════════
# כניסה לתוך Container
# ═══════════════════════════════════════════════════════════════
docker exec -it my-api /bin/bash
#           │││
#           │└┴── interactive + tty (טרמינל אינטראקטיבי)
#           └── execute = הרץ פקודה

# ═══════════════════════════════════════════════════════════════
# עצירה ומחיקה
# ═══════════════════════════════════════════════════════════════
docker stop my-api     # עוצר את הקונטיינר
docker rm my-api       # מוחק את הקונטיינר
docker rmi rick-morty-api  # מוחק את ה-image
```

<div dir="rtl" align="right">

---

# פרק 5: מה זה Kubernetes?

## 5.1 למה צריך Kubernetes?

**המצב עם Docker בלבד:**

</div>

```
┌─────────────────┐
│   Container     │  ← אם נופל - אף אחד לא מרים אותו
│   rick-morty    │  ← אם יש עומס - אין אפשרות להוסיף עותקים
│                 │  ← אין חלוקת עומסים
└─────────────────┘
```

<div dir="rtl" align="right">

**מה Kubernetes פותר:**

</div>

```
┌──────────────────────────────────────────────────────────┐
│                  Kubernetes Cluster                       │
│                                                          │
│   ┌─────────┐  ┌─────────┐  ┌─────────┐                 │
│   │  Pod 1  │  │  Pod 2  │  │  Pod 3  │  ← Scaling      │
│   │   API   │  │   API   │  │   API   │    אוטומטי     │
│   └─────────┘  └─────────┘  └─────────┘                 │
│        │            │            │                       │
│        └────────────┼────────────┘                       │
│                     │                                    │
│              Load Balancing                              │
│              חלוקת עומסים                               │
│                                                          │
│   + Self Healing - אם Pod נופל, קם חדש אוטומטית        │
│   + Rolling Updates - עדכונים בלי downtime             │
│   + Service Discovery - Pods מוצאים אחד את השני        │
└──────────────────────────────────────────────────────────┘
```

<div dir="rtl" align="right">

## 5.2 מושגי יסוד ב-Kubernetes

**שאלת ראיון נפוצה:** "מה זה Pod?"

| מושג | הסבר | משל |
|------|------|-----|
| **Cluster** | קבוצת שרתים שמנהלים יחד | עיר שלמה |
| **Node** | שרת בודד בקלאסטר | בניין בעיר |
| **Pod** | יחידת ההרצה הקטנה ביותר. מכיל Container אחד או יותר | דירה בבניין |
| **Deployment** | מגדיר איך להריץ Pods (כמה עותקים, איזה image) | חוזה שכירות |
| **Service** | חושף Pods לתקשורת. מאפשר Load Balancing | דלפק קבלה |
| **Ingress** | חושף שירותים לעולם החיצוני עם domain | כתובת הבניין |

## 5.3 הקבצים שיצרנו ומה הם עושים

</div>

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                  │
│  deployment.yaml ──▶ service.yaml ──▶ ingress.yaml              │
│                                                                  │
│       "מה"              "איך"           "איפה"                   │
│       להריץ             להגיע           לחשוף                    │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

<div dir="rtl" align="right">

## 5.4 Deployment - הסבר מלא

**קובץ: yamls/deployment.yaml**

</div>

```yaml
apiVersion: apps/v1       # גרסת ה-API של Kubernetes
kind: Deployment          # סוג המשאב
metadata:
  name: rick-morty-api    # שם הפריסה
  labels:
    app: rick-morty-api   # תוויות לזיהוי

spec:
  replicas: 2             # כמה עותקים (Pods) להריץ
  
  selector:
    matchLabels:
      app: rick-morty-api # לאילו Pods הפריסה שייכת
  
  template:               # תבנית ליצירת Pod
    metadata:
      labels:
        app: rick-morty-api
    spec:
      containers:
      - name: rick-morty-api
        image: rick-morty-api:latest  # איזה Docker Image
        ports:
        - containerPort: 5000         # איזה פורט

        # ═══════════════════════════════════════════════════════
        # Liveness Probe - בדיקת חיים
        # אם נכשל: Kubernetes יעשה restart ל-Pod
        # ═══════════════════════════════════════════════════════
        livenessProbe:
          httpGet:
            path: /healthcheck
            port: 5000
          initialDelaySeconds: 10   # המתן 10 שניות לפני בדיקה ראשונה
          periodSeconds: 30         # בדוק כל 30 שניות

        # ═══════════════════════════════════════════════════════
        # Readiness Probe - בדיקת מוכנות
        # אם נכשל: לא ישלחו traffic ל-Pod הזה
        # ═══════════════════════════════════════════════════════
        readinessProbe:
          httpGet:
            path: /healthcheck
            port: 5000
          initialDelaySeconds: 5
          periodSeconds: 10

        # ═══════════════════════════════════════════════════════
        # Resource Limits - הגבלת משאבים
        # ═══════════════════════════════════════════════════════
        resources:
          requests:         # מינימום מובטח
            memory: "64Mi"  # 64 מגה זיכרון
            cpu: "100m"     # 0.1 CPU (100 millicores)
          limits:           # מקסימום מותר
            memory: "128Mi"
            cpu: "200m"
```

<div dir="rtl" align="right">

**שאלת ראיון נפוצה:** "מה ההבדל בין Liveness Probe ל-Readiness Probe?"

| Probe | מטרה | מה קורה אם נכשל |
|-------|------|-----------------|
| **Liveness** | לבדוק אם האפליקציה חיה | Restart ל-Container |
| **Readiness** | לבדוק אם האפליקציה מוכנה | לא שולחים traffic |

**דוגמה:** 
- אפליקציה עלתה אבל עדיין טוענת נתונים
- Liveness יעבור (היא חיה)
- Readiness ייכשל (היא לא מוכנה לקבל בקשות)

## 5.5 Service - הסבר מלא

**קובץ: yamls/service.yaml**

</div>

```yaml
apiVersion: v1
kind: Service
metadata:
  name: rick-morty-api-service
  labels:
    app: rick-morty-api

spec:
  type: ClusterIP         # סוג השירות (ראה טבלה למטה)
  ports:
  - port: 80              # הפורט שהשירות חושף
    targetPort: 5000      # הפורט של ה-Container
    protocol: TCP
  selector:
    app: rick-morty-api   # לאילו Pods לנתב (לפי labels)
```

<div dir="rtl" align="right">

**שאלת ראיון נפוצה:** "מה ההבדל בין סוגי Service?"

| סוג | נגישות | שימוש |
|-----|--------|-------|
| **ClusterIP** | רק מתוך הקלאסטר | שירותים פנימיים |
| **NodePort** | דרך פורט על כל Node | פיתוח ובדיקות |
| **LoadBalancer** | דרך Load Balancer חיצוני | פרודקשן בענן |

## 5.6 Ingress - הסבר מלא

**קובץ: yamls/ingress.yaml**

</div>

```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: rick-morty-api-ingress
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /

spec:
  ingressClassName: nginx    # איזה Ingress Controller
  rules:
  - host: rick-morty.local   # ה-domain
    http:
      paths:
      - path: /              # הנתיב
        pathType: Prefix
        backend:
          service:
            name: rick-morty-api-service  # לאיזה Service לנתב
            port:
              number: 80
```

<div dir="rtl" align="right">

**שאלת ראיון נפוצה:** "מה ההבדל בין Service ל-Ingress?"

| רכיב | תפקיד |
|------|-------|
| **Service** | חשיפה פנימית + Load Balancing בין Pods |
| **Ingress** | חשיפה חיצונית + ניתוב לפי domain/path + SSL |

## 5.7 פקודות kubectl חיוניות

**שאלת ראיון נפוצה:** "איך בודקים מצב של Pods בקלאסטר?"

</div>

```bash
# ═══════════════════════════════════════════════════════════════
# הצגת משאבים
# ═══════════════════════════════════════════════════════════════
kubectl get pods              # הצג את כל ה-Pods
kubectl get pods -o wide      # הצג עם מידע נוסף (IP, Node)
kubectl get services          # הצג את כל ה-Services
kubectl get deployments       # הצג את כל ה-Deployments
kubectl get ingress           # הצג את כל ה-Ingresses
kubectl get all               # הצג הכל

# ═══════════════════════════════════════════════════════════════
# יישום קבצי YAML
# ═══════════════════════════════════════════════════════════════
kubectl apply -f deployment.yaml   # יישם קובץ בודד
kubectl apply -f yamls/            # יישם כל הקבצים בתיקייה

# ═══════════════════════════════════════════════════════════════
# מידע מפורט
# ═══════════════════════════════════════════════════════════════
kubectl describe pod <pod-name>    # מידע מפורט על Pod
kubectl logs <pod-name>            # לוגים של Pod
kubectl logs -f <pod-name>         # לוגים בזמן אמת

# ═══════════════════════════════════════════════════════════════
# ניפוי באגים
# ═══════════════════════════════════════════════════════════════
kubectl exec -it <pod-name> -- /bin/bash   # כניסה ל-Pod
kubectl port-forward svc/my-service 8080:80 # העברת פורט

# ═══════════════════════════════════════════════════════════════
# מחיקה
# ═══════════════════════════════════════════════════════════════
kubectl delete -f deployment.yaml  # מחק לפי קובץ
kubectl delete pod <pod-name>      # מחק Pod ספציפי
```

<div dir="rtl" align="right">

---

# פרק 6: הזרימה המלאה - איך הכל מתחבר

## 6.1 תרשים מקיף

</div>

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              התמונה הגדולה                                   │
└─────────────────────────────────────────────────────────────────────────────┘

                    משתמש מהאינטרנט
                          │
                          │ HTTP Request
                          │ http://rick-morty.local/characters
                          ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                          Kubernetes Cluster                                  │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │                           INGRESS                                       │ │
│  │                                                                         │ │
│  │  1. מקבל את הבקשה                                                       │ │
│  │  2. בודק את ה-host (rick-morty.local)                                  │ │
│  │  3. בודק את ה-path (/)                                                 │ │
│  │  4. מעביר ל-Service המתאים                                             │ │
│  │                                                                         │ │
│  └────────────────────────────────────┬───────────────────────────────────┘ │
│                                       │                                      │
│  ┌────────────────────────────────────┼───────────────────────────────────┐ │
│  │                           SERVICE                                       │ │
│  │                                    │                                    │ │
│  │  1. מקבל את הבקשה מ-Ingress       │                                    │ │
│  │  2. מחפש Pods עם התווית המתאימה   │                                    │ │
│  │  3. מפזר עומסים (Load Balance)     │                                    │ │
│  │  4. מעביר ל-Pod שנבחר             │                                    │ │
│  │                                    │                                    │ │
│  │                    ┌───────────────┴───────────────┐                    │ │
│  │                    │                               │                    │ │
│  └────────────────────┼───────────────────────────────┼────────────────────┘ │
│                       │                               │                      │
│          ┌────────────┴─────────────┐    ┌───────────┴────────────┐         │
│          ▼                          ▼    ▼                        ▼         │
│  ┌───────────────┐          ┌───────────────┐          ┌───────────────┐    │
│  │     POD 1     │          │     POD 2     │          │     POD N     │    │
│  │ ┌───────────┐ │          │ ┌───────────┐ │          │ ┌───────────┐ │    │
│  │ │ Container │ │          │ │ Container │ │          │ │ Container │ │    │
│  │ │           │ │          │ │           │ │          │ │           │ │    │
│  │ │  api.py   │ │          │ │  api.py   │ │          │ │  api.py   │ │    │
│  │ │  Flask    │ │          │ │  Flask    │ │          │ │  Flask    │ │    │
│  │ │  :5000    │ │          │ │  :5000    │ │          │ │  :5000    │ │    │
│  │ │           │ │          │ │           │ │          │ │           │ │    │
│  │ └───────────┘ │          │ └───────────┘ │          │ └───────────┘ │    │
│  └───────────────┘          └───────────────┘          └───────────────┘    │
│          │                          │                          │            │
│          │                          │                          │            │
│          └──────────────────────────┴──────────────────────────┘            │
│                                     │                                        │
│                           DEPLOYMENT                                        │
│                      (מנהל את כל ה-Pods)                                    │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      │ HTTP Request
                                      ▼
                         ┌─────────────────────────┐
                         │  Rick and Morty API     │
                         │  rickandmortyapi.com    │
                         └─────────────────────────┘
```

<div dir="rtl" align="right">

## 6.2 מה קורה כשמשתמש שולח בקשה?

**שלב 1: Ingress**
- מקבל בקשה ל-`rick-morty.local/characters`
- בודק את כללי הניתוב
- מעביר ל-Service `rick-morty-api-service` על פורט 80

**שלב 2: Service**
- מקבל את הבקשה
- מוצא את כל ה-Pods עם `app: rick-morty-api`
- בוחר Pod (Round Robin / Random)
- מעביר את הבקשה לפורט 5000 של ה-Pod

**שלב 3: Pod**
- ה-Container מקבל את הבקשה
- Flask מזהה את הנתיב `/characters`
- הקוד קורא מ-Rick and Morty API
- מסנן את הדמויות
- מחזיר JSON

**שלב 4: חזרה**
- התגובה עוברת: Pod ← Service ← Ingress ← משתמש

---

# פרק 7: שאלות ראיון נפוצות - סיכום

## 7.1 שאלות על API

| שאלה | תשובה |
|------|-------|
| מה זה REST API? | ארכיטקטורה לתקשורת בין מערכות המבוססת על HTTP |
| מה ההבדל בין GET ל-POST? | GET לקריאה, POST ליצירה |
| מה זה Status Code 500? | שגיאה בצד השרת |
| איך מטפלים ב-Pagination? | קוראים עמוד-עמוד עד שאין next |

## 7.2 שאלות על Docker

| שאלה | תשובה |
|------|-------|
| מה ההבדל בין Image ל-Container? | Image = תבנית, Container = מופע רץ |
| למה Docker ולא VM? | יותר קל, מהיר, וצורך פחות משאבים |
| מה עושה EXPOSE? | מתעד איזה פורט האפליקציה מאזינה (לא פותח באמת) |
| מה ההבדל בין CMD ל-ENTRYPOINT? | CMD ניתן לדריסה, ENTRYPOINT קבוע |

## 7.3 שאלות על Kubernetes

| שאלה | תשובה |
|------|-------|
| מה זה Pod? | יחידת ההרצה הקטנה ביותר, מכיל Container אחד או יותר |
| מה ההבדל בין Deployment ל-Pod? | Deployment מנהל Pods (replicas, updates) |
| מתי משתמשים ב-ClusterIP? | לשירותים פנימיים בלבד |
| מה עושה Liveness Probe? | בודק אם האפליקציה חיה. אם לא - restart |

---

# פרק 8: מבנה הפרויקט הסופי

</div>

```
rick-morty-devops/
│
├── app/                          # קוד האפליקציה
│   ├── main.py                   # סקריפט שמייצר CSV
│   ├── api.py                    # שרת REST API
│   ├── requirements.txt          # ספריות Python נדרשות
│   └── output.csv                # קובץ הפלט
│
├── yamls/                        # קבצי Kubernetes
│   ├── deployment.yaml           # הגדרת הפריסה
│   ├── service.yaml              # הגדרת השירות
│   └── ingress.yaml              # הגדרת הכניסה
│
├── Dockerfile                    # הוראות לבניית Docker Image
├── .gitignore                    # קבצים להתעלמות ב-Git
└── README.md                     # תיעוד הפרויקט
```

<div dir="rtl" align="right">

---

# פרק 9: מפת הקשרים - איך הכל מתחבר

## 9.1 המפה הגדולה - כל הפרויקט במבט אחד

</div>

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                         │
│                          🗺️ MINDMAP - מפת הפרויקט המלאה                                │
│                                                                                         │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│                                ┌─────────────────────┐                                  │
│                                │   🎯 המשימה שלנו   │                                  │
│                                │  Rick & Morty API   │                                  │
│                                └──────────┬──────────┘                                  │
│                                           │                                             │
│                ┌──────────────────────────┼──────────────────────────┐                  │
│                │                          │                          │                  │
│                ▼                          ▼                          ▼                  │
│     ┌─────────────────┐       ┌─────────────────┐       ┌─────────────────┐            │
│     │  📊 DATA        │       │  🔧 CODE        │       │  🚀 DEPLOY      │            │
│     │  מאיפה המידע?   │       │  איך מעבדים?    │       │  איך מריצים?    │            │
│     └────────┬────────┘       └────────┬────────┘       └────────┬────────┘            │
│              │                         │                         │                      │
│              ▼                         ▼                         ▼                      │
│ ┌─────────────────────────┐  ┌─────────────────────────┐  ┌─────────────────────────┐  │
│ │ rickandmortyapi.com     │  │ Python Scripts          │  │ Docker + Kubernetes     │  │
│ │ └─▶ 826 דמויות         │  │ └─▶ main.py (CSV)       │  │ └─▶ Container           │  │
│ │ └─▶ 42 עמודים          │  │ └─▶ api.py (REST)       │  │ └─▶ Pods                │  │
│ │ └─▶ JSON format        │  │ └─▶ סינון + עיבוד       │  │ └─▶ Services            │  │
│ └─────────────────────────┘  └─────────────────────────┘  └─────────────────────────┘  │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

<div dir="rtl" align="right">

## 9.2 זרימת הנתונים - השרשרת המלאה

</div>

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                         │
│                          📡 THE CHAIN - שרשרת הבקשה                                     │
│                                                                                         │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   User Request                                                                          │
│        │                                                                                │
│        ▼                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐  │
│   │  INGRESS (rick-morty.local)                                                      │  │
│   │  • בודק host ו-path                                                              │  │
│   │  • מעביר לשירות המתאים                                                           │  │
│   └─────────────────────────────────────────────────────────────────────────────────┘  │
│        │                                                                                │
│        ▼                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐  │
│   │  SERVICE (finds pods by label, load balance)                                     │  │
│   │  • מוצא את ה-Pods לפי label                                                      │  │
│   │  • מפזר עומסים בין ה-Pods                                                        │  │
│   │  • ממיר port 80 → 5000                                                          │  │
│   └─────────────────────────────────────────────────────────────────────────────────┘  │
│        │                                                                                │
│        ▼                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐  │
│   │  POD (runs container from image)                                                 │  │
│   │  • מריץ Container מה-Docker Image                                                │  │
│   │  • liveness + readiness probes בודקים אותו                                       │  │
│   └─────────────────────────────────────────────────────────────────────────────────┘  │
│        │                                                                                │
│        ▼                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐  │
│   │  CONTAINER (runs api.py on port 5000)                                            │  │
│   │  • Python + Flask                                                                │  │
│   │  • מאזין על port 5000                                                            │  │
│   └─────────────────────────────────────────────────────────────────────────────────┘  │
│        │                                                                                │
│        ▼                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐  │
│   │  FLASK (handles /characters route)                                               │  │
│   │  • מזהה את הנתיב /characters                                                     │  │
│   │  • קורא לפונקציה המתאימה                                                         │  │
│   └─────────────────────────────────────────────────────────────────────────────────┘  │
│        │                                                                                │
│        ▼                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐  │
│   │  PYTHON CODE (calls external API, filters data)                                  │  │
│   │  • שולח בקשות ל-Rick & Morty API                                                 │  │
│   │  • מטפל ב-Pagination (42 עמודים)                                                 │  │
│   │  • מסנן: Human + Alive + Earth                                                   │  │
│   └─────────────────────────────────────────────────────────────────────────────────┘  │
│        │                                                                                │
│        ▼                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐  │
│   │  RICK & MORTY API (External)                                                     │  │
│   │  • 826 דמויות ב-42 עמודים                                                        │  │
│   │  • מחזיר JSON                                                                    │  │
│   └─────────────────────────────────────────────────────────────────────────────────┘  │
│        │                                                                                │
│        ▼                                                                                │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐  │
│   │  FILTER (109 characters remain)                                                  │  │
│   │  species == "Human" ✓                                                            │  │
│   │  status == "Alive" ✓                                                             │  │
│   │  origin contains "Earth" ✓                                                       │  │
│   └─────────────────────────────────────────────────────────────────────────────────┘  │
│        │                                                                                │
│        ▼                                                                                │
│   JSON Response back to User                                                            │
│   {"count": 109, "characters": [...]}                                                   │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

<div dir="rtl" align="right">

## 9.3 מפת הקבצים - מי תלוי במי?

</div>

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                         │
│                      📁 FILE DEPENDENCIES - תלויות בין קבצים                           │
│                                                                                         │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   requirements.txt                                                                      │
│        │                                                                                │
│        │ pip install                                                                    │
│        ▼                                                                                │
│   ┌─────────────┐                         ┌─────────────┐                               │
│   │  main.py    │                         │   api.py    │                               │
│   │  imports:   │                         │  imports:   │                               │
│   │  - requests │                         │  - requests │                               │
│   │  - csv      │                         │  - flask    │                               │
│   │             │                         │             │                               │
│   │  OUTPUT:    │                         │  ENDPOINTS: │                               │
│   │  output.csv │                         │ /characters │                               │
│   └─────────────┘                         │ /healthcheck│                               │
│                                           └──────┬──────┘                               │
│                                                  │                                      │
│                                                  │ runs                                 │
│                                                  ▼                                      │
│                                           ┌─────────────┐                               │
│                                           │ Dockerfile  │                               │
│                                           │ CMD api.py  │                               │
│                                           └──────┬──────┘                               │
│                                                  │                                      │
│                                                  │ creates                              │
│                                                  ▼                                      │
│                                           ┌─────────────┐                               │
│                                           │Docker Image │                               │
│                                           │rick-morty-api                               │
│                                           └──────┬──────┘                               │
│                                                  │                                      │
│                          ┌───────────────────────┼───────────────────────┐              │
│                          │                       │                       │              │
│                          ▼                       ▼                       ▼              │
│                  ┌───────────────┐      ┌───────────────┐      ┌───────────────┐        │
│                  │deployment.yaml│      │ service.yaml  │      │ ingress.yaml  │        │
│                  │               │      │               │      │               │        │
│                  │ image: rick-  │      │ selector:     │      │ backend:      │        │
│                  │ morty-api     │◀─────│ app: rick-    │◀─────│ service:      │        │
│                  │               │      │ morty-api     │      │ rick-morty    │        │
│                  │ labels:       │──────▶               │      │               │        │
│                  │ app: rick-    │      │               │      │               │        │
│                  │ morty-api     │      │               │      │               │        │
│                  │               │      │               │      │               │        │
│                  │ probes:       │      │               │      │               │        │
│                  │ /healthcheck──┼──────▶ calls api.py endpoint                │        │
│                  └───────────────┘      └───────────────┘      └───────────────┘        │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

<div dir="rtl" align="right">

## 9.4 סיכום כל הקשרים

| # | מה | מתחבר ל | איך |
|---|-----|---------|-----|
| 1 | requirements.txt | Python files | pip install |
| 2 | main.py / api.py | Rick & Morty API | requests.get() |
| 3 | api.py | Port 5000 | Flask app.run() |
| 4 | Dockerfile | api.py | CMD ["python", "api.py"] |
| 5 | deployment.yaml | Docker Image | image: rick-morty-api |
| 6 | deployment.yaml | Pods | labels: app: rick-morty-api |
| 7 | service.yaml | Pods | selector: app: rick-morty-api |
| 8 | service.yaml | Container | port: 80 → targetPort: 5000 |
| 9 | ingress.yaml | Service | backend: service |
| 10 | Probes | api.py | httpGet: /healthcheck |

---

# סיכום

**מה למדנו:**

1. **API** - איך לקרוא נתונים משירות חיצוני
2. **Python** - איך לכתוב סקריפט שמעבד נתונים
3. **Docker** - איך לארוז אפליקציה לקונטיינר
4. **Kubernetes** - איך לפרוס ולנהל אפליקציה בענן

**מה הפרויקט מדגים:**
- הבנה של מחזור חיים של אפליקציה
- יכולת לכתוב קוד נקי ומתועד
- ידע ב-Containerization
- הבנה של Orchestration

---

# חלק ב׳: שאלות ראיון DevOps - מדריך מקיף

---

## פרק 10: AWS VPC - כל מה שצריך לדעת

### ❓ "מה זה VPC?"

**VPC** (Virtual Private Cloud) = רשת וירטואלית פרטית בענן AWS.

זה כמו לבנות את הרשת הפרטית שלך בתוך AWS - אתה מחליט:
- איזה טווח כתובות IP (CIDR)
- איך לחלק ל-Subnets
- מי יכול לגשת למה
- איך תנועה נכנסת ויוצאת

### ❓ "מה ההבדל בין Subnet פרטי לציבורי?"

| מאפיין | Public Subnet | Private Subnet |
|--------|---------------|----------------|
| גישה לאינטרנט | ישירה דרך IGW | רק דרך NAT Gateway |
| IP ציבורי | יש | אין |
| Route Table | מצביע ל-IGW | מצביע ל-NAT |
| שימוש | Web servers, Load Balancers | Databases, Internal services |

### ❓ "מהו Internet Gateway?"

**Internet Gateway (IGW)** = שער שמאפשר תקשורת בין VPC לאינטרנט.
- מאפשר לשרתים ב-Public Subnet לצאת ולהיכנס מהאינטרנט
- Highly Available - AWS מנהל אותו
- חינמי (משלמים רק על Data Transfer)

### ❓ "מהו NAT Gateway?"

**NAT Gateway** = מאפשר לשרתים ב-Private Subnet לצאת לאינטרנט בלי להיחשף.
- יציאה בלבד - אין אפשרות להיכנס מבחוץ
- יושב ב-Public Subnet
- עולה כסף (לפי שעה + Data)

### ❓ "מהי טכנולוגיית Private Link?"

**Private Link / VPC Endpoints** = גישה לשירותי AWS בלי לעבור דרך האינטרנט.

**שני סוגים:**
- **Interface Endpoint** - ENI בתוך ה-VPC. עובד עם רוב השירותים.
- **Gateway Endpoint** - רק ל-S3 ו-DynamoDB. חינמי!

---

## פרק 11: AWS IAM - זהויות והרשאות

### ❓ "מה ההבדל בין IAM Role ל-IAM User?"

| מאפיין | IAM User | IAM Role |
|--------|----------|----------|
| מיועד ל | אנשים (בני אדם) | שירותים / אפליקציות |
| אימות | Username + Password | Assume Role (זמני) |
| תוקף | קבוע עד שמוחקים | זמני (credentials מתחלפים) |
| דוגמה | מפתח שנכנס ל-Console | EC2 שניגש ל-S3 |

### ❓ "מה ההבדל בין IAM Policy ל-Resource Based Policy?"

| סוג | IAM Policy | Resource Based Policy |
|-----|------------|----------------------|
| מוצמד ל | User / Group / Role | משאב (S3 Bucket, SQS) |
| מגדיר | "מה המשתמש יכול לעשות" | "מי יכול לגשת למשאב" |
| Cross-Account | דורש Assume Role | ישיר |

---

## פרק 12: AWS Storage

### ❓ "מה ההבדל בין EBS ל-EFS?"

| מאפיין | EBS | EFS |
|--------|-----|-----|
| סוג | Block Storage (דיסק) | File Storage (NFS) |
| חיבור | EC2 אחד בלבד | מרובה EC2 |
| Scaling | ידני | אוטומטי |
| מחיר | זול יותר | יקר יותר |
| שימוש | Database, Boot | Shared files |

### ❓ "מה זה S3?"

**S3** (Simple Storage Service) = Object Storage.
- **Unlimited** - אין הגבלה
- **Durability** - 99.999999999%
- **Storage Classes** - Standard, IA, Glacier
- **שימושים:** Backup, Static website, Data lake

---

## פרק 13: AWS Compute

### ❓ "מה ההבדל בין On-Demand, Reserved, Spot, Dedicated?"

| סוג | מאפיין | הנחה | שימוש |
|-----|--------|------|-------|
| **On-Demand** | לפי שימוש | 0% | Dev, Testing |
| **Reserved** | התחייבות 1-3 שנים | עד 72% | Production |
| **Spot** | קיבולת עודפת | עד 90% | Batch jobs |
| **Dedicated** | שרת פיזי שלם | תלוי | Compliance |

### ❓ "מה זה Lambda?"

**Lambda** = Serverless compute.
- Event-driven
- Pay per use
- Auto-scale
- Max 15 minutes

### ❓ "איזה שירות מתזמן טריגרים של Lambda?"

**Amazon EventBridge** - Cron, Rate, Event patterns

---

## פרק 14: Load Balancing, DNS, CDN

### ❓ "אילו סוגי Load Balancer יש?"

| סוג | שכבה | שימוש |
|-----|------|-------|
| **ALB** | Layer 7 | Web apps, Microservices |
| **NLB** | Layer 4 | High performance |
| **GLB** | Layer 3 | Security appliances |

### ❓ "מה ההבדל בין ניתוב Geolocation, Latency, Weight?"

| סוג | לוגיקה | שימוש |
|-----|--------|-------|
| **Geolocation** | לפי מיקום | תוכן מותאם למדינה |
| **Latency** | לפי זמן תגובה | ביצועים מיטביים |
| **Weighted** | לפי אחוזים | A/B testing |

### ❓ "מה זה CloudFront?"

**CloudFront** = CDN של AWS.
- מפיץ תוכן ל-Edge Locations
- מוריד Latency
- Caching
- SSL/TLS מובנה

### ❓ "האם SSL חינם? מהו ACM?"

**ACM** = AWS Certificate Manager. **חינם!**
- חידוש אוטומטי
- עובד עם: ALB, CloudFront, API Gateway

---

## פרק 15: Databases

### ❓ "מה ההבדל בין DB רלציוני ללא-רלציוני?"

| מאפיין | SQL | NoSQL |
|--------|-----|-------|
| מבנה | טבלאות | Documents, Key-Value |
| Schema | קבוע | גמיש |
| Scaling | Vertical | Horizontal |
| AWS | RDS, Aurora | DynamoDB |

### ❓ "מה זה Redis?"

**Redis** = In-memory key-value store.
- מהיר מאוד
- Caching
- Session storage
- **AWS:** ElastiCache for Redis

### ❓ "מה ההבדל בין Standby ל-Primary DB?"

| סוג | תפקיד |
|-----|-------|
| **Primary** | Write + Read |
| **Standby** | רק גיבוי - Failover אוטומטי |
| **Read Replica** | רק Read |

---

## פרק 16: Kubernetes מתקדם

### ❓ "מהו Namespace?"

**Namespace** = חלוקה לוגית של הקלאסטר.
- מפריד בין סביבות
- מאפשר Resource Quotas

### ❓ "מה ההבדל בין Deployment ל-ReplicaSet?"

| מאפיין | ReplicaSet | Deployment |
|--------|------------|------------|
| Rolling Updates | ❌ | ✅ |
| Rollback | ❌ | ✅ |
| שימוש | נדיר | תמיד! |

### ❓ "מה זה Ingress ו-Ingress Controller?"

| רכיב | תפקיד |
|------|-------|
| **Ingress** | YAML שמגדיר חוקי ניתוב |
| **Ingress Controller** | התוכנה שאוכפת (NGINX) |

### ❓ "מהו Sidecar, Init, Application Container?"

| סוג | מתי רץ | תפקיד |
|-----|--------|-------|
| **Init** | לפני Main | הכנות |
| **Application** | אחרי Init | האפליקציה |
| **Sidecar** | במקביל | עזר (Logging) |

### ❓ "מה זה Probe? Liveness?"

| Probe | שואל | אם נכשל |
|-------|------|---------|
| **Liveness** | "אתה חי?" | Restart |
| **Readiness** | "אתה מוכן?" | No traffic |

### ❓ "מהו Service Account?"

**Service Account** = זהות עבור Pods.
- תקשורת עם K8s API
- RBAC permissions
- קישור ל-AWS IAM (IRSA)

### ❓ "איך מתבצע Autoscale?"

- **HPA** - מוסיף Pods לפי metrics
- **VPA** - משנה Resources
- **Cluster Autoscaler** - מוסיף Nodes

### ❓ "מה זה PVC?"

**PVC** = Persistent Volume Claim = בקשה לאחסון.
- **PV** = האחסון הפיזי
- **PVC** = הבקשה
- **StorageClass** = סוג האחסון

---

## פרק 17: סוגי Workloads

### ❓ "StatefulSet vs DaemonSet vs Deployment?"

| סוג | תפקיד | דוגמה |
|-----|-------|-------|
| **Deployment** | Stateless, Pods זהים | Web servers |
| **StatefulSet** | Stateful, זהות קבועה | Databases |
| **DaemonSet** | Pod על כל Node | Logging agent |

### ❓ "סוגי Services?"

| סוג | נגישות |
|-----|--------|
| **ClusterIP** | רק מתוך הקלאסטר |
| **NodePort** | Port על כל Node |
| **LoadBalancer** | Cloud LB חיצוני |

### ❓ "4 סוגי פריסות?"

| סוג | איך עובד |
|-----|----------|
| **Rolling Update** | מחליף בהדרגה |
| **Recreate** | מוחק הכל → מעלה חדש |
| **Blue-Green** | סביבה חדשה → Switch |
| **Canary** | % קטן מהמשתמשים |

### ❓ "מהו Istio?"

**Istio** = Service Mesh.
- Traffic Management
- Security (mTLS)
- Observability

---

## פרק 18: Helm

### ❓ "מה זה Helm?"

**Helm** = Package manager לקוברנטיס.
- **Charts** - חבילות מוכנות
- **Templating** - YAMLים דינמיים
- **Values** - קובץ הגדרות
- **Releases** - ניהול גרסאות

### ❓ "מה זה Helm Lint?"

`helm lint` = בודק תקינות Chart לפני התקנה.

### ❓ "מה זה _helpers.tpl?"

קובץ עם פונקציות לשימוש חוזר בתוך Chart.

---

## פרק 19: CI/CD

### ❓ "מה זה CI ו-CD?"

| מונח | משמעות | מה כולל |
|------|--------|---------|
| **CI** | Continuous Integration | Build, Test, Lint |
| **CD** | Continuous Delivery | פריסה אוטומטית |

### ❓ "GitHub Actions vs Jenkins?"

| מאפיין | GitHub Actions | Jenkins |
|--------|----------------|---------|
| התקנה | מובנה (SaaS) | Self-hosted |
| תחזוקה | GitHub | אתה |
| גמישות | טובה | מקסימלית |

### ❓ "מה זה Artifact?"

**Artifact** = תוצר Build: Docker Image, JAR, Binary

### ❓ "Test vs Stage vs Prod?"

| סביבה | מטרה |
|-------|------|
| **Dev/Test** | בדיקות מפתחים |
| **Staging** | Pre-production |
| **Production** | משתמשים אמיתיים |

---

## פרק 20: Terraform

### ❓ "מהו Drift?"

**Drift** = פער בין State למצב האמיתי. קורה כששינו ידנית.

### ❓ "עריכת שם Bucket - מה יקרה?"

**ימחק את הישן ויצור חדש!** (immutable)

### ❓ "מה זה Terraform Validate?"

בודק תקינות קבצי .tf (לא מול הענן).

### ❓ "איפה לשמור State?"

**Remote Backend** - S3 + DynamoDB locking. לא ב-Git!

### ❓ "מה זה Workspace?"

State נפרד לאותו קוד (dev, staging, prod).

### ❓ "מהו Module?"

קבוצת Resources לשימוש חוזר (כמו פונקציה).

### ❓ "CloudFormation vs Terraform?"

| מאפיין | CloudFormation | Terraform |
|--------|----------------|-----------|
| ספק | AWS בלבד | Multi-cloud |
| שפה | JSON/YAML | HCL |
| State | AWS מנהל | אתה מנהל |

---

## פרק 21: Architecture

### ❓ "Microservices vs Monolith?"

| Monolith | Microservices |
|----------|---------------|
| אפליקציה אחת | שירותים קטנים |
| פשוט להתחיל | קשה לנהל |
| קשה לסקייל חלקים | כל שירות נפרד |

### ❓ "מה זה Decoupled Services?"

שירותים לא תלויים ישירות - תקשורת דרך Queue/Events.

### ❓ "מתי EC2 ומתי Kubernetes?"

| EC2 | Kubernetes |
|-----|------------|
| אפליקציה פשוטה | Microservices |
| צוות קטן | צוות עם ידע K8s |
| Stateful legacy | Cloud Native |

---

## פרק 22: Monitoring

### ❓ "מה זה Prometheus?"

מערכת Monitoring - Pull-based, Time-series, PromQL.

### ❓ "מה זה Grafana?"

כלי Visualization - Dashboards, Alerts.

### ❓ "מהו NGINX?"

Web server / Reverse Proxy / Load Balancer / Ingress Controller.

---

## פרק 23: API & HTTP

### ❓ "קודים 2xx, 3xx, 4xx, 5xx?"

| סדרה | משמעות |
|------|--------|
| **2xx** | הצלחה |
| **3xx** | Redirect |
| **4xx** | שגיאת Client |
| **5xx** | שגיאת Server |

### ❓ "4 סוגי קריאות API?"

GET (Read), POST (Create), PUT (Update), DELETE (Delete)

### ❓ "REST vs SOAP?"

| REST | SOAP |
|------|------|
| JSON | XML |
| קל | כבד |
| Modern | Enterprise |

---

## פרק 24: תרחישים

### תרחיש: הקמת אתר E-Commerce

**שאלות לשאול:**
1. גאוגרפיה - ישראל או גלובלי?
2. עדכניות מוצרים - לעיתים רחוקות? Redis
3. כמות כניסות - Scaling planning

### תרחיש: קמפיין חגים (10K → 40K)

1. Auto Scaling לפי CPU
2. Read Replicas
3. Redis Caching
4. Pre-warming

### תרחיש: שדרוג K8s Cluster

1. Control Plane קודם
2. בדיקת תקינות
3. Worker Nodes אחד-אחד

### תרחיש: Pods ב-Error

1. `kubectl describe pod`
2. `kubectl logs`
3. בדיקת: Image, Permissions, Resources

### תרחיש: Traffic מ-ALB לK8s

- ALB: Public Subnet, SG 80/443
- K8s: SG Referencing, Ingress

### תרחיש: K8s בלי אינטרנט

- Private Registry (ECR + Endpoint)
- Golden AMI
- Private Link

---

## פרק 25: Docker מתקדם

### ❓ "מה זה Multi-Stage Build?"

**Multi-Stage Build** = בניית Image במספר שלבים.

**למה?**
- Image קטן יותר
- אבטחה - פחות כלים
- הפרדה בין build ל-runtime

```dockerfile
# Stage 1: Build
FROM node:18 AS builder
WORKDIR /app
RUN npm run build

# Stage 2: Production
FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
# מ-800MB ל-50MB!
```

### ❓ "מה זה Volumes ו-Bind Mounts?"

| סוג | מה זה | שימוש |
|-----|-------|-------|
| **Volume** | Docker מנהל | Production - DB |
| **Bind Mount** | תיקייה מהמחשב | Dev - קוד |
| **tmpfs** | זיכרון בלבד | Sensitive data |

### ❓ "מה זה Docker Compose?"

כלי להרצת מספר Containers יחד. קובץ YAML אחד, פקודה אחת.

### ❓ "Docker Networking Types?"

| Type | תיאור |
|------|-------|
| **bridge** | ברירת מחדל - מבודד |
| **host** | רשת של ה-host |
| **none** | ללא רשת |
| **overlay** | בין hosts |

### ❓ "Container Restart Policies?"

| Policy | התנהגות |
|--------|---------|
| `no` | לא מפעיל מחדש |
| `always` | תמיד |
| `on-failure` | רק ב-error |
| `unless-stopped` | תמיד חוץ מאם עצרת |

---

## פרק 26: Kubernetes Scheduling

### ❓ "Labels ו-Selectors?"

**Labels** = תגיות key-value על Resources.
**Selectors** = בחירת Resources לפי Labels.

### ❓ "Taints ו-Tolerations?"

**Taint** = "רעל" על Node - דוחה Pods.
**Toleration** = "חיסון" ל-Pod - מאפשר לו לרוץ.

*משל: שלט "כניסה אסורה" (Taint), אישור מיוחד (Toleration)*

### ❓ "Node Selector vs Node Affinity?"

| מושג | תיאור | גמישות |
|------|-------|--------|
| **Node Selector** | label פשוט | equality בלבד |
| **Node Affinity** | תנאים מורכבים | In, NotIn, Gt, Lt |

### ❓ "Pod Affinity vs Anti-Affinity?"

**Affinity** = "רוצה ליד Pod מסוים" (Web + Cache)
**Anti-Affinity** = "רוצה רחוק מ-Pod" (DB replicas - HA)

---

## פרק 27: Kubernetes Configuration

### ❓ "מה זה ConfigMap?"

אחסון configuration לא-רגיש: env vars, files.

### ❓ "מה זה Secret?"

אחסון רגיש (base64): passwords, API keys, certs.
⚠️ base64 ≠ הצפנה! להשתמש עם Vault.

### ❓ "Rolling Update ו-Rollback?"

**Rolling Update** = עדכון הדרגתי ללא downtime.
**Rollback** = חזרה לגרסה קודמת.

```bash
kubectl rollout undo deployment/myapp
kubectl rollout undo deployment/myapp --to-revision=2
```

---

## פרק 28: K8s Networking

### ❓ "מה זה CNI?"

**CNI** = Container Network Interface. Plugins: Calico, Flannel, Weave, AWS VPC CNI.

### ❓ "מה זה CoreDNS?"

DNS פנימי של הקלאסטר. מתרגם: `my-service.namespace.svc.cluster.local`

### ❓ "מה זה Network Policy?"

Firewall ברמת Pod. קובע איזה Traffic מותר Ingress/Egress.

---

## פרק 29: Jenkins

### ❓ "Freestyle vs Pipeline?"

| מאפיין | Freestyle | Pipeline |
|--------|-----------|----------|
| הגדרה | GUI | קוד (Jenkinsfile) |
| Git | ❌ | ✅ |
| שימוש | פשוט | CI/CD מלא |

### ❓ "Jenkins Agents/Slaves?"

**Master** = מנהל, מתזמן
**Agent** = מבצע העבודה

### ❓ "הרצה ידנית בין שלבים?"

כן! עם `input` step:
```groovy
input message: 'Deploy?', ok: 'Deploy!'
```

### ❓ "Jenkins Parameters?"

משתנים שהמשתמש מזין: string, choice, boolean.

---

## פרק 30: Security & Best Practices

### ❓ "מה זה SG Referencing?"

התייחסות ל-Security Group במקום CIDR.
**יתרון:** יותר מאובטח, יותר דינמי.

### ❓ "OIDC בין GitHub ל-AWS?"

אימות בלי Access Keys!
1. Identity Provider ב-AWS
2. IAM Role עם Trust Policy
3. `aws-actions/configure-aws-credentials`

### ❓ "GitHub vs GitLab?"

| מאפיין | GitHub | GitLab |
|--------|--------|--------|
| CI/CD | Actions | מובנה יותר |
| Self-hosted | יקר | Community חינם |

### ❓ "Vertical vs Horizontal Scaling?"

| Vertical | Horizontal |
|----------|------------|
| יותר כח למכונה | יותר מכונות |
| יש גבול | כמעט ללא גבול |
| DBs | Stateless |

---

**טיפ אחרון לראיון:**
אל תפחד להגיד "אני לא יודע".
עדיף להגיד "אני לא בטוח, אבל הייתי בודק ככה..." מאשר להמציא תשובה.

---

**בהצלחה בראיון!** 🚀

</div>
